(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{269:function(t,e,n){"use strict";n.r(e);var o=n(28),a=n(1),i=n(5),l=n(3),s={name:"Events",data:function(){return{deleteDialog:!1,title:null,selectedEvent:null,headers:[{text:"Title",value:"title",width:"15%"},{text:"Description",value:"description"},{text:"Start Date",value:"start_date"},{text:"End Date",value:"end_date"},{text:"Location",value:"location"},{text:"Actions",value:"actions",sortable:!1}]}},created:function(){this.fetchTableData()},methods:{onDeleteConfirmation:function(t){var e=this;this.deleteDialog=!1,t&&(console.log(this.selectedEvent),l.b.delete("/event/".concat(this.selectedEvent.id)).then((function(t){e.fetchTableData()}),(function(t){console.log(t)})))},onDelete:function(t){this.selectedEvent=t,this.title=t.title,this.deleteDialog=!0},onEdit:function(t){console.log(t),a.a.dispatch("setSelectedEvent",{id:t.id}),i.a.push("/events/".concat(t.id,"/edit"))},compress:function(t){return t.length>30?t.substr(0,30)+"...":t},fetchTableData:function(){a.a.dispatch("setEvents",{page:1,size:10})}},components:{"delete-dialog":o.a},computed:{events:function(){return a.a.getters.getEvents}}},c=n(2),r=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"px-5 py-3 shadow-lg"},[n("delete-dialog",{attrs:{open:t.deleteDialog,title:t.title},on:{onConfirmation:t.onDeleteConfirmation}}),t._v(" "),n("v-row",[n("v-col",{attrs:{cols:"8"}},[n("v-card-title",[t._v("\n        Events\n      ")])],1),t._v(" "),n("v-col",{staticClass:"py-2",attrs:{cols:"4"}},[n("v-toolbar",{staticClass:"float-right",attrs:{flat:"",color:"white"}},[n("v-btn",{attrs:{color:"primary",dark:"",to:"/events/new"}},[t._v("Add New\n        ")])],1)],1)],1),t._v(" "),n("v-data-table",{staticClass:" mx-auto my-auto",attrs:{headers:t.headers,items:t.events},scopedSlots:t._u([{key:"no-data",fn:function(){return[n("p",{staticClass:"my-2"},[t._v("No Data Available")])]},proxy:!0},{key:"item.title",fn:function(e){var n=e.item;return[t._v("\n      "+t._s(t.compress(n.title))+"\n    ")]}},{key:"item.description",fn:function(e){var o=e.item;return[n("p",{domProps:{textContent:t._s(t.htmlToText(o.description))}})]}},{key:"item.actions",fn:function(e){var o=e.item;return[n("v-icon",{staticClass:"mr-2",on:{click:function(e){return t.onEdit(o)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),n("v-icon",{attrs:{color:"red"},on:{click:function(e){return t.onDelete(o)}}},[t._v("\n        mdi-delete\n      ")])]}}])})],1)}),[],!1,null,"bba25b26",null);e.default=r.exports},28:function(t,e,n){"use strict";var o={name:"DeleteDialog",props:["open","title"],methods:{result:function(t){this.$emit("onConfirmation",t)}}},a=n(2),i=Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"290"},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("Delete confirmation")]),t._v(" "),n("v-card-text",[t._v("\n      Are you sure you want to permanently delete "),n("b",[t._v(t._s(t.title))]),t._v("?\n    ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.result(!1)}}},[t._v("\n        Cancel\n      ")]),t._v(" "),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){return t.result(!0)}}},[t._v("\n        Delete\n      ")])],1)],1)],1)}),[],!1,null,"46851f48",null);e.a=i.exports}}]);