(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{242:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(3);function s(){this.tender_id="",this.name="",this.email="",this.file=""}var r=n(7),o=n(4),l=n(1),c=n.n(l),u={name:"tender-show",data:function(){return{server:i.a,page:1,size:5,len:6,submitting:!1,valid:!1,rules:r.a,alert:{message:"",type:"success",visible:!1},button_text:"Upload File",application:new s,categories:["Real-Time","Trial Category","Conversions"],category:0}},watch:{$route:"selectTender"},methods:{handleFileUpload:function(){var e=this.$refs.file.files[0].name;this.application.file=this.$refs.file.files[0],this.button_text=e.slice(0,10),this.button_text+=e.length<10?"":"..."},submit:function(){var e=this;this.application.tender_id=this.data.id;var t=new FormData;Object.keys(this.application).forEach((function(n){t.append(n,e.application[n])}));var n=this;n.submitting=!0,i.b.post("tender-application",t).then((function(e){n.alert={message:"Successfully Applied",type:"success",visible:!0}}),(function(t){Object(o.a)(t),500===t.response.status?n.alert={message:"Error: Something went wrong at the server",type:"error",visible:!0}:400===t.response.status?n.alert={message:e.serverValidationMessage(t),type:"error",visible:!0}:n.alert={message:"Please fix issues before submitting",type:"error",visible:!0}})).finally((function(){n.submitting=!1}))},selectTender:function(){a.a.dispatch("setSelectedTender",{id:this.$route.params.id})},serverValidationMessage:function(e){var t="";return Object.keys(e.response.data).forEach((function(n){t+="<li>".concat(e.response.data[n],"</li>")})),"\n      <strong>Please fix the following issues</strong>\n      <ul>".concat(t,"</ul>\n      ")}},created:function(){var e=this.$route.params.id;this.selectTender(e)},computed:{data:function(){return a.a.getters.getSelectedTender},loading:function(){return a.a.getters.getLoading},daysLeft:function(){return c()(this.data.deadline).diff(c()(new Date),"days")},tenderDate:function(){return this.daysLeft>=0?"".concat(this.daysLeft," Days Left"):"".concat(-this.daysLeft," Days Ago")}}},d=n(2),p=Object(d.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.loading?n("v-row",{staticClass:"pt-10"},[n("v-col",[n("v-skeleton-loader",{staticClass:"w-100",attrs:{type:"article"}})],1)],1):n("v-row",[n("v-col",{attrs:{cols:"12",md:"8"}},[n("v-row",{staticClass:"mt-6"},[n("v-col",[n("h3",[e._v(e._s(e.data.title))]),e._v(" "),n("span",{staticClass:"d-inline-block"},[e._v("\n            Posted: "),n("span",{staticClass:"font-italic text-muted",domProps:{textContent:e._s(e.formatToDate(e.data.created_at))}})]),e._v(" "),n("span",{staticClass:"d-inline-block float-right"},[e._v("\n            Deadline: "),n("span",{staticClass:"font-italic text-muted",domProps:{textContent:e._s(e.formatToDate(e.data.deadline))}})])])],1),e._v(" "),n("v-row",{staticClass:"mb-6"},[n("v-col",[n("div",{staticClass:"my-4",domProps:{innerHTML:e._s(e.data.description)}}),e._v(" "),e.data.file_url?n("a",{staticClass:"btn btn-primary btn-sm text-white shadow-lg",attrs:{href:e.server+e.data.file_url,target:"_blank"}},[n("v-icon",{attrs:{color:"white",left:"",small:""}},[e._v("mdi-download")]),e._v("\n            Download File\n          ")],1):e._e()])],1)],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-row",{staticClass:"mt-6"},[n("v-col",[n("h2",{staticClass:"text-muted text-center",domProps:{textContent:e._s(e.tenderDate)}})])],1),e._v(" "),n("v-row",{staticClass:"my-6"},[e.daysLeft<=0?n("v-col",[n("p",{staticClass:"text-muted text-muted text-center mt-3",domProps:{textContent:e._s("Application is closed")}})]):n("v-col",[n("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.alert.visible||!1,expression:"alert.visible || false"}],attrs:{type:e.alert.type,dismissible:""},domProps:{innerHTML:e._s(e.alert.message)}}),e._v(" "),n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("h3",{staticClass:"primary--text"},[e._v("Apply")]),e._v(" "),n("v-text-field",{ref:"name",attrs:{counter:"",rules:e.rules.required||e.rules.min_20,label:"Name / Company",required:""},model:{value:e.application.name,callback:function(t){e.$set(e.application,"name",t)},expression:"application.name"}}),e._v(" "),n("v-text-field",{ref:"email",attrs:{counter:"",rules:e.rules.required||e.rules.min_20,label:"E-mail",required:""},model:{value:e.application.email,callback:function(t){e.$set(e.application,"email",t)},expression:"application.email"}}),e._v(" "),n("div",{staticClass:"my-3"},[n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"file",attrs:{type:"file",rules:e.rules.required},on:{change:e.handleFileUpload}}),e._v(" "),n("v-btn",{staticClass:"d-inline-block",attrs:{color:"info"},on:{click:function(t){return e.$refs.file.click()}}},[n("v-icon",{attrs:{small:"",left:""}},[e._v("mdi-camera")]),e._v("\n                "+e._s(e.button_text)+"\n              ")],1),e._v(" "),n("v-btn",{staticClass:"float-right",attrs:{disabled:!e.valid,color:"success",loading:e.submitting},on:{click:e.submit}},[e._v("\n                Apply\n              ")])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=p.exports},4:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(6),i=n(0),s=function(e){"The token has been blacklisted"!==e.response.data.message&&401!==e.response.data.status||(i.a.dispatch("setStateMessage","Sorry, You have to re-login!"),Object(a.b)())}},5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(8),i=n.n(a),s=n(20),r=n(6),o=n(16),l=n.n(o);i.a.use(s.a);var c=new s.a({mode:"history",base:"/admin",routes:[{path:"/news",name:"news",component:function(){return n.e(21).then(n.bind(null,192))},beforeEnter:r.a},{path:"/news/new",name:"add news",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,187))},beforeEnter:r.a},{path:"/news/:id/edit",name:"edit news",component:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,191))},beforeEnter:r.a},{path:"/events",name:"events",component:function(){return n.e(19).then(n.bind(null,190))},beforeEnter:r.a},{path:"/events/new",name:"add events",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,189))},beforeEnter:r.a},{path:"/events/:id/edit",name:"edit event",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,188))},beforeEnter:r.a},{path:"/leadership",name:"leaders",component:function(){return n.e(20).then(n.bind(null,194))},beforeEnter:r.a},{path:"/leadership/new",name:"add leader",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,185))},beforeEnter:r.a},{path:"/leadership/:id/edit",name:"edit leader",component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,196))},beforeEnter:r.a},{path:"/publications",name:"publication",component:function(){return n.e(22).then(n.bind(null,197))},beforeEnter:r.a},{path:"/publications/new",name:"add publication",component:function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,186))},beforeEnter:r.a},{path:"/publications/:id/edit",name:"edit publication",component:function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,195))},beforeEnter:r.a},{path:"/profile",name:"profile",component:function(){return n.e(18).then(n.bind(null,184))}},{path:"/login",name:"login",component:function(){return n.e(23).then(n.bind(null,38))}},{path:"/",name:"welcome",component:function(){return n.e(24).then(n.bind(null,198))}},{path:"*",name:"NotFound",component:function(){return n.e(25).then(n.bind(null,193))}}]});c.afterEach((function(){l.a.done()}))},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n(0),i=n(5),s=n(3),r=n(4),o=function(e,t,n){a.a.dispatch("resetMessage").then(),null===a.a.getters.getApiToken?i.a.push("/login").then():n()},l=function(){a.a.dispatch("resetUser").then(),s.b.post("auth/logout").then((function(e){a.a.dispatch("resetUser"),i.a.push("/").then()}),(function(e){Object(r.a)(e)}))}},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={required:[function(e){return(e||"").length>0||"This field is required"}],min_20:[function(e){return(e||"").length>20||"The minimum required character is 20"}],min_50:[function(e){return(e||"").length>50||"The minimum required character is 20"}],min_100:[function(e){return(e||"").length>200||"The minimum required character is 200"}]}}}]);