(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{210:function(t,e,s){"use strict";s.r(e);var a=s(1),i=s(3),o={name:"publication-index",data:function(){return{server:i.a,page:1,size:10,year:0,selectedCategories:[],sizes:[10,25,50,100],years:["All",2020,2019,2018,2017]}},methods:{fetchPublications:function(){var t=[],e=this.categories;this.selectedCategories.forEach((function(s){t.push(e[s])})),a.a.dispatch("setPublications",{page:this.page,size:this.size,year:this.years[this.year],category:t})},fetchCategories:function(){a.a.dispatch("setPublicationCategories")}},created:function(){this.fetchCategories(),this.fetchPublications()},computed:{data:function(){return a.a.getters.getPublications},meta:function(){return a.a.getters.getPublicationsMeta},categories:function(){return a.a.getters.getPublicationCategories},loading:function(){return a.a.getters.getLoading},categoryLoading:function(){return a.a.getters.getCategoryLoading}}},n=s(2),l=Object(n.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-row",{staticClass:"mt-6"},[s("v-col",[s("h1",[t._v("Publications")])])],1),t._v(" "),s("v-row",[s("v-col",{attrs:{md:"8"}},[s("v-tabs",{staticClass:"shadow mb-5 rounded",attrs:{"background-color":"primary",dark:"","fixed-tabs":""},on:{change:t.fetchPublications},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}},t._l(t.years,(function(e){return s("v-tab",{key:e},[t._v("\n          "+t._s(e)+"\n        ")])})),1),t._v(" "),s("v-list",{attrs:{"two-line":""}},[t.loading?s("v-skeleton-loader",{staticClass:"w-100",attrs:{type:"list-item-three-line"}}):t.data&&0!==t.data.length?s("v-list-item-group",[t._l(t.data,(function(e){return[s("v-row",[s("v-list-item",{staticClass:"w-100",attrs:{to:"/publications/"+e.id}},[s("v-col",{attrs:{cols:"12",md:"11"}},[s("v-list-item-content",[s("div",{staticClass:"overline"},[t._v(t._s(e.category))]),t._v(" "),s("v-list-item-title",{domProps:{textContent:t._s(e.title)}}),t._v(" "),s("v-list-item-subtitle",{staticClass:"text--primary",domProps:{textContent:t._s(t.htmlToText(e.list_description))}}),t._v(" "),s("v-list-item-subtitle",{domProps:{textContent:t._s(t.formatToMinute(e.created_at))}})],1)],1),t._v(" "),e.image_url?s("v-col",{staticClass:"d-md-block d-none rounded",class:e.image_url?"shadow-sm":"",style:"height:50%; background: url("+t.server+e.image_url+") center; background-size:cover;",attrs:{cols:"1"}}):t._e()],1)],1),t._v(" "),s("v-divider",{staticClass:"my-0"})]}))],2):s("p",{staticClass:"text-muted text-muted text-center mt-3",domProps:{textContent:t._s("Found Nothing")}})],1),t._v(" "),s("v-row",{staticClass:"py-5"},[s("v-col",{attrs:{lg:"2",cols:"3"}},[s("v-select",{staticClass:"justify-start",attrs:{items:t.sizes,dense:"",label:"Show",outlined:""},on:{change:t.fetchPublications},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}})],1),t._v(" "),s("v-col",{attrs:{lg:"10",cols:"9"}},[s("v-pagination",{staticClass:"justify-end",attrs:{length:t.meta.last_page,"total-visible":7},on:{input:t.fetchPublications},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1),t._v(" "),s("v-col",{staticClass:"px-8",attrs:{md:"4"}},[s("v-fade-transition",{attrs:{"hide-on-leave":""}},[t.categoryLoading?s("v-skeleton-loader",{staticClass:"shadow-lg",attrs:{type:"card-heading, list-item, list-item, list-item"}}):s("v-card",{staticClass:"mx-auto shadow-lg"},[s("v-list",[s("v-subheader",[t._v("Categories")]),t._v(" "),0===t.categories.length?s("p",{staticClass:"text-muted text-center mt-3",domProps:{textContent:t._s("Found Nothing")}}):s("v-list-item-group",{attrs:{color:"primary",multiple:""},on:{change:t.fetchPublications},model:{value:t.selectedCategories,callback:function(e){t.selectedCategories=e},expression:"selectedCategories"}},t._l(t.categories,(function(e,a){return s("v-list-item",{key:a,scopedSlots:t._u([{key:"default",fn:function(a){var i=a.active,o=a.toggle;return[s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e)}})],1),t._v(" "),s("v-list-item-action",[s("v-checkbox",{attrs:{"input-value":i},on:{click:o}})],1)]}}],null,!0)})})),1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=l.exports}}]);